{
  "hash": "484914e385881c555bbb885d31356c59",
  "result": {
    "markdown": "---\ntitle: \"Install rgeos on OSX\"\ndescription: |\n  A short description of the post.\nauthor:\n  - name: Rodney Dyer\n    url: https://dyerlab.org\n    affiliation: Center for Environmental Studies\n    affiliation_url: https://ces.vcu.edu\n    orcid_id: 0000-0003-4707-3453\ndate: 2015-03-31\noutput:\n  distill::distill_article:\n    self_contained: false\n---\n\n\n\n\n\nThere seems to be some nefarious conspiracy against packaging spatial R packages on the mac platform. Don't quite understand it but it sucks.  Here is how to install the rgeos package.\n\nIf you try the normal way, you get the following error:\n\n<pre class=\"lang:default decode:true\">install.packages(\"rgeos\")\npackage ‘rgeos’ is available as a source package but not as a binary\nWarning in install.packages : package ‘rgeos’ is not available (as a binary package for R version 3.1.3)</pre>\n\nwhich is not very helpful.  <!--more-->So here is a quick way to do that I use when I need to upgrade it or put it on a new machine.\n\n  1. If you do not have the developers tools from Apple, download them and install through the normal AppStore mechanisms.  You will need to compile stuff from raw code for this to work.\n  2. Download and install the GDAL Complete package from [KyngChaos](http://www.kyngchaos.com/software:frameworks ).  At the time of writing, it was version 1.11 (39.0 MB).  If you are using Mavericks or later, you'll have to probably change your security settings (System Preferences -> Security -> General) to &#8220;Allow apps downloaded from &#8216;anywhere' to be installed. If everything works nicely (which I've never seen actually work), you should be able to do the following to install. Unfortunately, it always barfs on me. <pre class=\"lang:default decode:true\">install.packages(\"rgeos\", repos=\"http://R-Forge.R-project.org\", type=\"source\")\ntrying URL 'http://R-Forge.R-project.org/src/contrib/rgeos_0.3-9.tar.gz'\nContent type 'application/x-gzip' length 238246 bytes (232 KB)\nopened URL\n==================================================\ndownloaded 232 KB\n\n* installing *source* package ‘rgeos’ ...\nconfigure: CC: clang\nconfigure: CXX: clang++\nconfigure: rgeos: 0.3-8\nchecking for /usr/bin/svnversion... yes\ncat: inst/SVN_VERSION: No such file or directory\nconfigure: svn revision: \nchecking for geos-config... no\nconfigure: error: geos-config not found or not executable.\nERROR: configuration failed for package ‘rgeos’\n* removing ‘/Library/Frameworks/R.framework/Versions/3.1/Resources/library/rgeos’\n\nThe downloaded source packages are in\n\t‘/private/var/folders/06/jmbn_ny94rs1nw19xclvdzqc0000gn/T/Rtmp9VCkBI/downloaded_packages’\nWarning message:\nIn install.packages(\"rgeos\", repos = \"http://R-Forge.R-project.org\",  :\n  installation of package ‘rgeos’ had non-zero exit status\n</pre>\n\n  3. This means that you need to actually compile the results.  Download the latest sources from [r-forge](https://r-forge.r-project.org/R/?group_id=602) (use the *.tar.gz version).  Open the terminal and: <pre class=\"lang:default decode:true\">cd ~/Downloads\nR CMD INSTALL\n</pre>\n    \n    and you should see the following:\n    \n    <pre class=\"lang:default decode:true \">R CMD INSTALL rgeos_0.3-9.tar.gz --configure-args=\"--with-geos-config=/Library/Frameworks/GEOS.framework/unix/bin/geos-config\"\n* installing to library ‘/Library/Frameworks/R.framework/Versions/3.1/Resources/library’\n* installing *source* package ‘rgeos’ ...\nconfigure: CC: clang\nconfigure: CXX: clang++\nconfigure: rgeos: 0.3-8\nchecking for /usr/bin/svnversion... yes\ncat: inst/SVN_VERSION: No such file or directory\nconfigure: svn revision: \nconfigure: geos-config set to /Library/Frameworks/GEOS.framework/unix/bin/geos-config\nchecking geos-config exists... yes\nchecking geos-config executable... yes\nchecking geos-config usability... yes\nconfigure: GEOS version: 3.4.2\nchecking geos version at least 3.2.0... yes\nchecking geos-config clibs... yes\nchecking for gcc... clang\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether clang accepts -g... yes\nchecking for clang option to accept ISO C89... none needed\nchecking how to run the C preprocessor... clang -E\nchecking for grep that handles long lines and -e... /usr/bin/grep\nchecking for egrep... /usr/bin/grep -E\nchecking for ANSI C header files... rm: conftest.dSYM: is a directory\nrm: conftest.dSYM: is a directory\nyes\nchecking for sys/types.h... yes\nchecking for sys/stat.h... yes\nchecking for stdlib.h... yes\nchecking for string.h... yes\nchecking for memory.h... yes\nchecking for strings.h... yes\nchecking for inttypes.h... yes\nchecking for stdint.h... yes\nchecking for unistd.h... yes\nchecking geos_c.h usability... yes\nchecking geos_c.h presence... yes\nchecking for geos_c.h... yes\nchecking geos: linking with libgeos_c... yes\nconfigure: PKG_CPPFLAGS:  -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include\nconfigure: PKG_LIBS:  -L/Library/Frameworks/GEOS.framework/Versions/3/unix/lib -lgeos -L/Library/Frameworks/GEOS.framework/Versions/3/unix/lib -lgeos_c\nconfigure: creating ./config.status\nconfig.status: creating src/Makevars\n** libs\nclang++ -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c dummy.cc -o dummy.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c init.c -o init.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c local_stubs.c -o local_stubs.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos.c -o rgeos.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_R2geos.c -o rgeos_R2geos.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_R2geosMP.c -o rgeos_R2geosMP.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_bbox.c -o rgeos_bbox.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_buffer.c -o rgeos_buffer.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_coord.c -o rgeos_coord.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_geos2R.c -o rgeos_geos2R.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_misc.c -o rgeos_misc.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_poly2nb.c -o rgeos_poly2nb.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_predicate_binary.c -o rgeos_predicate_binary.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_predicate_unary.c -o rgeos_predicate_unary.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_topology.c -o rgeos_topology.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_topology_binary.c -o rgeos_topology_binary.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_validate.c -o rgeos_validate.o\nclang -I/Library/Frameworks/R.framework/Resources/include -DNDEBUG -I/Library/Frameworks/GEOS.framework/Versions/3/unix/include -I/usr/local/include -I/usr/local/include/freetype2 -I/opt/X11/include -I\"/Library/Frameworks/R.framework/Versions/3.1/Resources/library/sp/include\"   -fPIC  -Wall -mtune=core2 -g -O2  -c rgeos_wkt.c -o rgeos_wkt.o\nclang++ -dynamiclib -Wl,-headerpad_max_install_names -undefined dynamic_lookup -single_module -multiply_defined suppress -L/Library/Frameworks/R.framework/Resources/lib -L/usr/local/lib -o rgeos.so dummy.o init.o local_stubs.o rgeos.o rgeos_R2geos.o rgeos_R2geosMP.o rgeos_bbox.o rgeos_buffer.o rgeos_coord.o rgeos_geos2R.o rgeos_misc.o rgeos_poly2nb.o rgeos_predicate_binary.o rgeos_predicate_unary.o rgeos_topology.o rgeos_topology_binary.o rgeos_validate.o rgeos_wkt.o -L/Library/Frameworks/GEOS.framework/Versions/3/unix/lib -lgeos -L/Library/Frameworks/GEOS.framework/Versions/3/unix/lib -lgeos_c -F/Library/Frameworks/R.framework/.. -framework R -Wl,-framework -Wl,CoreFoundation\ninstalling to /Library/Frameworks/R.framework/Versions/3.1/Resources/library/rgeos/libs\n** R\n** inst\n** preparing package for lazy loading\n** help\n*** installing help indices\n** building package indices\n** testing if installed package can be loaded\n* DONE (rgeos)\n</pre>\n\n  4. And your done.\n \n \n \n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}