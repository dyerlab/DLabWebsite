{"title":"Github Distill Manuscript Automation","markdown":{"yaml":{"title":"Github Distill Manuscript Automation","description":"Here is a quick fix to helping you streamline your manuscript creation using the rmarkdown::distill package so that your output is automatically put in the right locations for display on Github Pages.\n","date":"2022-03-18","preview":"preview.png","output":{"distill::distill_article":{"self_contained":false}}},"headingText":"The Fix","containsRefs":false,"markdown":"\n\no, I’ve been having some fun playing around with the [Distill for R Markdown](https://rstudio.github.io/distill/) package as I work on getting back into research after the “Admin Craptastic” I’ve been doing through.  It is a really nice way to create manuscripts and publish content with the help of [github](https://github.com) and [GitHub Pages](https://pages.github.com) .  \n\nOne of the things that has been holding me back thought is that I would have to set up a custom script so that the manuscript file itself (when compiled into html) could be moved into a specific folder in the repository that will be served up on GitHub pages.  I chose to use the `/docs` folder and set this up in the settings section of the repository.  Once you save it, it looks like this.\n\n![](export/98318064-A7D4-413B-A8A1-B76028EE6CB0.png)\n\nThen, go back to your repository and add the folder and check it into your GitHub repository.\n\n![](export/5BE7A622-FD39-483C-B93A-69B2875F7E1E.png)\n\nThe main problems were:\n\n1. The manuscript is typically named `manuscript.Rmd` (or something that is typically not `index`, which means that it will have to be renamed upon check-in to the repository. In previous incarnations, I put in a hook into git that would copy it over just prior to committing but this was a pain as it was hidden behind the scenes.\n2. The file was not in the `docs` folder so no matter what I named it, it would have to be moved anyways.\n\n\nSo the fix is to override the knit function directly in the Rmd YAML data.  There is an optional argument that you can use to have a custom render function that is called when you hit the “knit” button in [RStudio](https://rstudio.com), that has the following syntax.\n\n```\nknit: (function(inputFile, encoding) { \n  rmarkdown::render(inputFile,\n                    encoding=encoding,\n                    output_file='docs/index.html') })\n```\n\nNow, if you put that stuff into the YAML, it will auto-magically render it with the correct name and location by itself behind the scenes AND you will still see it in the preview stuff.\n\nVery cool.\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":{"distill::distill_article":{"self_contained":false}},"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"github-distill-manuscript-automation.html"},"language":{},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.0.38","theme":"cosmo","title-block-banner":true,"title":"Github Distill Manuscript Automation","description":"Here is a quick fix to helping you streamline your manuscript creation using the rmarkdown::distill package so that your output is automatically put in the right locations for display on Github Pages.\n","date":"2022-03-18","preview":"preview.png"},"extensions":{"book":{"multiFile":true}}}}}